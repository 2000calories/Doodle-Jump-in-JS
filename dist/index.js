const playerFrames={"player 1.png":{frame:{x:276,y:0,w:164,h:255}},"player 2.png":{frame:{x:173,y:270,w:174,h:225}},"player 3.png":{frame:{x:440,y:0,w:164,h:215}},"player 4.png":{frame:{x:347,y:270,w:174,h:225}},"player 5.png":{frame:{x:372,y:737,w:187,h:231}},"player 6.png":{frame:{x:770,y:0,w:173,h:270}},"player 7.png":{frame:{x:355,y:496,w:182,h:214}},"player 8.png":{frame:{x:414,y:968,w:215,h:213}},"player 9.png":{frame:{x:175,y:496,w:180,h:220}},"player 10.png":{frame:{x:521,y:270,w:175,h:219}},"player 11.png":{frame:{x:721,y:496,w:185,h:215}},"player 12.png":{frame:{x:0,y:270,w:173,h:214}},"player 13.png":{frame:{x:629,y:968,w:220,h:247}},"player 14.png":{frame:{x:559,y:737,w:190,h:191}},"player 15.png":{frame:{x:118,y:0,w:158,h:201}},"player 16.png":{frame:{x:0,y:737,w:186,h:225}},"player 17.png":{frame:{x:203,y:968,w:211,h:210}},"player 18.png":{frame:{x:696,y:270,w:175,h:226}},"player 19.png":{frame:{x:537,y:496,w:184,h:221}},"player 20.png":{frame:{x:0,y:968,w:203,h:219}},"player 21.png":{frame:{x:749,y:737,w:192,h:179}},"player 22.png":{frame:{x:604,y:0,w:166,h:159}},"player 23.png":{frame:{x:0,y:496,w:175,h:241}},"player 24.png":{frame:{x:186,y:737,w:186,h:209}},"player 25.png":{frame:{x:0,y:0,w:118,h:102}}};
function rangesOverlap(t,i){return t.start<=i.end&&t.end>=i.start||i.start<=t.end&&i.end>=t.start}function generateRandomInteger(t,i){return Math.floor(t+Math.random()*(i-t+1))}const playerImg=new Image;playerImg.src="Sprites/players.png";let playerId=generateRandomInteger(1,25);var player=new function(){this.x=window.innerWidth/2,this.y=window.innerHeight-200,this.img=playerImg,this.playerId=playerId,this.frameX=playerFrames["player "+this.playerId+".png"].frame.x,this.frameY=playerFrames["player "+this.playerId+".png"].frame.y,this.frameW=playerFrames["player "+this.playerId+".png"].frame.w,this.frameH=playerFrames["player "+this.playerId+".png"].frame.h,this.width=80,this.height=this.width*this.frameH/this.frameW,this.xSpeed=6.7,this.ySpeed=0,this.springBootsDurability=0,this.flyingHatDurability=0,this.rocketDurability=0,this.flyingHatySpeed=-40,this.rocketySpeed=-60,this.flyingHatDistance=.5*this.flyingHatySpeed*this.flyingHatySpeed/.34,this.rocketDistance=.5*this.rocketySpeed*this.rocketySpeed/.34,this.direction="left",this.inPowerup=!1,this.update=function(){if(dead){var t=Date.now();if(ctx.font="60px Arial",ctx.fillStyle="red",ctx.textAlign="center",ctx.fillText("Game Over",screenWidth/2,screenHeight/2),!gameoverActionDone){try{window.flutter_inappwebview.callHandler("returnScore",score,startTime,t)}catch(t){console.error(t)}setTimeout(function(){window.location.reload()},3e3),gameoverActionDone=!0}}else{if(this.ySpeed+=gravity,this.y<=screen.height/2-200&&this.ySpeed<=0)for(var i=0;i<blocks.length;i++)blocks[i].y-=this.ySpeed;else this.y+=this.ySpeed;yDistanceTravelled-=this.ySpeed,0<this.flyingHatDurability&&(this.flyingHatDurability+=this.ySpeed,0<=this.ySpeed)&&(this.flyingHatDurability=0),0<this.rocketDurability&&(this.rocketDurability+=this.ySpeed,0<=this.ySpeed)&&(this.rocketDurability=0)}for(var e,s,i=0;i<blocks.length;i++)0<=this.ySpeed&&this.x>=blocks[i].x-this.width+15&&this.x<=blocks[i].x+blocks[i].width-15&&this.y>=blocks[i].y-this.height&&this.y<=blocks[i].y+blocks[i].height-this.height&&(["spring","springBoots","flyingHat","rocket"].includes(blocks[i].powerup)?this.inPowerup=!0:this.inPowerup=!1,"break"===blocks[i].type||0!==blocks[i].monster?(this.jump(blocks[i].powerup,blocks[i].type),blocks[i]=0):(0<blocks[i].playerId&&(this.playerId=blocks[i].playerId),this.jump(blocks[i].powerup,blocks[i].type),blocks[i].powerup=0)),this.y>blocks[i].y&&(this.inPowerup||0===blocks[i].monster||void 0===blocks[i].monster||0!=this.springBootsDurability||0!=this.flyingHatDurability||0!=this.rocketDurability||(e=rangesOverlap({start:this.x+10,end:this.x+this.width-10},{start:blocks[i].x+10,end:blocks[i].x+50-10}),s=rangesOverlap({start:this.y+10,end:this.y+this.height-10},{start:blocks[i].y+10,end:blocks[i].y+50-10}),e&&s&&(dead=!0)));for(i=blocks.length-1;0<i;i--)if(blocks[i].y>screenHeight){lowestBlock=i+1;break}this.y>=screenHeight-70&&(dead=!0),45<=lowestBlock&&(difficulty<6&&(difficulty+=1),blockSpawner())},this.jump=function(t,i){this.ySpeed=-13.2,"changePlayer"===t&&(this.springBootsDurability=0,this.flyingHatDurability=0,this.rocketDurability=0,this.frameX=playerFrames["player "+this.playerId+".png"].frame.x,this.frameY=playerFrames["player "+this.playerId+".png"].frame.y,this.frameW=playerFrames["player "+this.playerId+".png"].frame.w,this.frameH=playerFrames["player "+this.playerId+".png"].frame.h),"springBoots"===t&&(this.springBootsDurability=6),"flyingHat"===t&&(this.springBootsDurability=0,this.flyingHatDurability=this.flyingHatDistance),"rocket"===t&&(this.springBootsDurability=0,this.flyingHatDurability=0,this.rocketDurability=this.rocketDistance),0===i&&("spring"===t&&(this.ySpeed=-20),"flyingHat"===t&&(this.ySpeed=-40),"rocket"===t)&&(this.ySpeed=-60),0!==this.springBootsDurability&&(this.ySpeed=-20,--this.springBootsDurability)},this.draw=function(){ctx.drawImage(this.img,this.frameX,this.frameY,this.frameW,this.frameH,this.x,this.y,this.width,this.height),0!==this.springBootsDurability&&ctx.drawImage(springBootsImg,this.x+25,this.y+this.height-10,30,30),0<this.flyingHatDurability&&ctx.drawImage(flyingHatImg,this.x+20,this.y-30+5,40,30),0<this.rocketDurability&&ctx.drawImage(rocketImg,this.x+20,this.y-30+5,40,30)}};
var monsterChances={smallRed:25};function spawnMonster(){return 0===Math.round(Math.random()*monsterChances.smallRed)?(monsterChances.smallRed=30,"smallRed"):(monsterChances.smallRed*=.98,0)}var smallRed=new function(){this.img=new Image,this.img.src="Sprites/Monsters/virus1.png",this.xDif=0,this.yDif=0,this.width=50,this.height=50,this.draw=function(s,t){ctx.drawImage(this.img,s+this.xDif,t+this.yDif,this.width,this.height)}},monsterFunctions={smallRed:smallRed};
function block(){this.x,this.y,this.width=100,this.height=15,this.powerup,this.type,this.monster,this.direction="right",this.moveTime=10,this.playerId=0,this.randomId=generateRandomInteger(1,25),this.draw=function(){switch("break"===this.type?ctx.fillStyle="#876537":"sideways"===this.type?ctx.fillStyle="#14a7c8":ctx.fillStyle="#6fbb1d",0===this.monster?ctx.fillRect(this.x,this.y,this.width,this.height):(ctx.fillRect(this.x,this.y,this.width,this.height),monsterFunctions[this.monster].draw(this.x,this.y)),this.powerup){case"spring":ctx.drawImage(springImg,this.x+35,this.y-30,30,30);break;case"springBoots":ctx.drawImage(springBootsImg,this.x+35,this.y-30,30,30);break;case"flyingHat":ctx.drawImage(flyingHatImg,this.x+35,this.y-30,40,30);break;case"rocket":ctx.drawImage(rocketImg,this.x+35,this.y-30,40,30);break;case"changePlayer":for(;this.randomId==playerId;)this.randomId=generateRandomInteger(1,25);this.playerId=this.randomId,frameX=playerFrames["player "+this.playerId+".png"].frame.x,frameY=playerFrames["player "+this.playerId+".png"].frame.y,frameW=playerFrames["player "+this.playerId+".png"].frame.w,frameH=playerFrames["player "+this.playerId+".png"].frame.h,ctx.drawImage(playerImg,frameX,frameY,frameW,frameH,this.x+35,this.y-40,40*frameW/frameH,40)}},this.update=function(){"sideways"===this.type&&(this.x>=screenWidth-this.width?this.direction="left":this.x<=0&&(this.direction="right"),"right"===this.direction?this.x+=2.5:this.x-=2.5),"smallRed"===this.monster&&("right"===this.direction?(this.x+=1,--this.moveTime,0===this.moveTime&&(this.direction="left",this.moveTime=10)):(--this.x,--this.moveTime,0===this.moveTime&&(this.direction="right",this.moveTime=10)))}}
var powerupChances={spring:20,springBoots:20,flyingHat:25,rocket:25,changePlayer:25};const originPowerupChances=powerupChances;function spawnPowerup(){var d=["spring","springBoots","flyingHat","rocket","changePlayer"];for(let A=0;A<d.length;A++){var B=d[A];if(0===Math.round(Math.random()*powerupChances[B]))return powerupChances[B]=originPowerupChances[B],B;powerupChances[B]*=.98}return 0}const springBootsDataUrl="data:image/png;base64,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",springDataUrl="data:image/png;base64,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",flyingHatDataUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAfCAMAAAAm2ZhkAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAASlQTFRFAAAAb7sd948e5Rk3b7sdb7sdb7sd4xw55Rk35Rk3b7sdb7sdb7sdb7sdb7sdb7sdb7sdb7sdb7sdb7sdb7sd9pAe5Rk3b7sdb7sdb7sdb7sdb7sd4xw55Rk3b7sdb7sdb7sdb7sdb7sdb7sdb7sdb7sd5Rk3948e948eb7sdb7sdb7sdoasd948e5Rk3b7sdc7odb7sdb7sd5Rs3b7sdb7sd944hb7sd948eb7sd8nAlb7sdnaMf948esaYdzpwe948e7U0s8Wom65Me948eb7sd55Ueb7sd948eebkdb7sd948efrcdhrQd9H0iq6geyJ8e9o8eb7sd948eeLkd948e5h02b7sddLodb7sdb7sdb7sdb7sd83Qk5Rk35iE15Rk3948eb7sd4xrwtAAAAGN0Uk5TAP///yTbtgPdkpJtSer1oRWcBR9E/6Tv+j6sggXgsY274HJjwQreCBXLXir/15gQ/zk0/1jVBMaZl/99HSyJ9XvivujEp/9OEP/Q6+D/////93ui/9v/KWQaaC4U/5v/ld+B3uTcSQAAAapJREFUeJzdlFdzgkAUhRfdXZVFsUaRxG5sSYwtvffeTe///0dkESwjMICjPOS8MCzn3G922XsBGKcEQuIYp2IMVRpjsay2VGFXVf06SycFjVUYJqvYy6jk42t9kz/MnqG+yYsQCrAZCIeLFXba5z/3xcElP2QTSF2+Jz4o+14TUR2HxOLqvYLFA4ek9qbyXikHkF60p6Tk5NJGNqZ0yD1J1hWHrHl6ZPmm1vloqQlA2GfO6sPJ51sF4tjiW+ZSknggmGRIOo10IXPmQwyTAnEL7ofRIDFgxc0cKYzIpZUUtga5VrZyYyklWoMsbncY+xdWQqgCcubdOfF4Y3ft6mOvGIQkiU3eGK8AwK85a4vPQtq6Lnfj69Ejd2IoTOIlw2DpjVrzxtcrx3J+pcVdbqfT6RmcKiEuw+o3PS/IrnxCv7wPBdZ7AG2IrDpFsct04sWUZLQzkAaitVRMXT+N7rLwZbiYHqS/MWWOv2t8yhKMpVHkpQ8sEgJhULOGIWQccs1SyMKEIdMzFDI1YYgtO7Hnn/wvyLcdEBt20rCnGT8nDLGlGf8PZLTb9QehiSUB4CmVMAAAAABJRU5ErkJggg==",rocketDataUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEcAAABkCAMAAADjVt21AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAqZQTFRFAAAAvcPH4FZB50w8h2U3b7sdNElevcPHvcPHz42EopR/yKal4FZB4FZB4FZB4FZBu8HF4FZBNEpg4FZBPFBkN0xg50w84FZBi5ahNU1e4FZBVmd4trzB50w8usDES11v50w8h2U34FZB50w8NVFdXJo1h2U34FZB4FZB4FZBOU1i50s84FZBYJ8un6iw50w8a3qJNktfPFlX31pH4FZB4FdCaK0nXp8x50w8bbkg31dD4FdCoaqyh2U3YqMteIWSO19W50k84FZBU2V2h2U3QFRnmKKr50w84FZB50w9arIkuL/D4FZBSVxu4FZBcH+M4FZB4FZB4FdC50s8OlZY4FZB4FZB50w84FZB4FZB4FZC4FZCRllsbLgi4FdC50w831lFTV9x4FdC50w8WJk34FZB50w8sLi9QGNV4FZBnKWu50095ks850w8lJ+o4FZBc4GO4FZBOFNc50w84FZB4FZCTmBy4FdC4FdC4FZB50w9vcPH50w8h2U34FZBVJM8ypmTq7O550w8UYZB50s8ZXWD50w8q6SXR3hKwLq8w7Gyh2U350s7s7Kt50w850w831tH50w850w84FZBn6mxWWp6hJGcvcPHUYY/4FZB3WZVzZKL4FZBh2U350w8kZuls7q/50w8ZK4q50w84FZB50w84FZBPmVUTH1I50w84FZBpa20Xm9/3l1L4FZBW54z50w84FZBh2U34FhDh2U331hET4JBNE9n4FZBZKkv50w8h2U350w8h2U36k45VIw9SX5IXqM24FZBOldd4FZB50w84FZB5UY+4FZBQWdQ31hEWZU9Q1ZqYnKBiJSeaHiGrra831tH5ks7p7C34FhEP2pTS3hI4FZBUIpA4FdC50w74FZB50w850w84FZB6E0731hE4FZBfLhZVgAAAOJ0Uk5TAP///////4DA////CPz4t//v/4D///kE//+////8///aYWfv///v2Tgg/xwY//9d////DeeS///j/2ey/xD///8EJ//P//+/EDf//+z/uv+K45cK/zRQi0BI1fP//2vzGf+CA//Qz///3P8YDZP/9v9g//cj3/+jbhMIQE6Pr//P/3n/Ev+Nv//Q4jBXnNOkByZme////2D/WwHnmKDG//94/0jHu6D//9/D//8Edf9sC/dXGC7//5v/IziBqAH///8d/zAsRAGG/zT///////8WBv9B//8H/39Tn3DKDwwwOwVuE9YAAAOZSURBVHic7dj1WxRBGAfwY4Z7Me64O+lGSkFCFASkDEJAxACl7QAFu7u7W7G7u7u7u/U/ce445Pbudndm4NHn8eH70z63c59ndqd2RqGQSRe/burBA17JFZNTHHRIH/vofnVQVL019qg6avf2bXmZcV9qFEOV4s9xKS75hUiY8WdWcTiTeiDz6KLZmdEWij6fWJkCqwxCk9iYTjoRR/2WydGIMAiVMTS/y1pRBqGJ9FB+VwnHvpSWUYk/lT6F/SidlvaSjro9pfNQkkFIc4yKmTxYxtH9pHLuyzAIDaByuss6mg8UjEs3WafFYwonr4WsU0TTYqPFhpZJelI4DvIMiq8nx/0vOnY28mnU4DQ4DU49Od7aujtpL3xCIPLpUVfvujjhHlCTYlOJzdEmO+mFZheaGaRnnpyOK2Hc3gWWKJW3FgUQKEfL5bwpBsidGac0JKYDgGMlj+PdGiAgSVmTzEcAnWdzODtSIWCQsja7O4DTKA6HVOdAiYmjvAnQn8PxAbhhyiiT3AA82R3SWGECp10bgHB2h3QcS6ec3QkBiBE6uQAJ7M4EgLkCJ8YNIjneT04kDMs0YeLekw7E0V4JPuB2Pq7WCRwDjht4xkUOedNP/jCX7gB4DOVxXmYT6KOROTGGjK9ynvFFZp9UMsjbHBwUFrhpGLkKeW7D59is84HaOLra8DraI/MdjYqTR2UWt0OkhOT1E7L7e7ROyzL9mWe90HoO3Wm+YPwf6+A/dSZvpXAWv5ZjVBMbUzhNrw6UZlyqEJXjvEbaKUV0Du47TYop0NE62LeVONNbv+GmdPChe2JMyyjE4OAhIjUaV31wRO3gffOsMaHxiNHBC3pZMqf2qpmdvhUdzRnVxZq9HoODvXZdN3OiEY+DnSOEzN2RfA6OFTSan8menc3BKzJqmV+m50+MDvZdLex/vA7+Nrya+S48xmJ2nPtMMfS/KnXdHDz2K4FU7kKGw8H+fQZaHkNwONhrmcLi7ILHwf715OAGh9EZP4vCWbLdWcY5Hky1vo/4HCvhlHUPpv5O6BWR7mXdObxZpR9v1N8bDzJW+ls4uv3Bxllkqh3J8iZiWai/vdFY9sdJX4ETNSNUOM82txXLNWHBjnOGeBkddZlDJ5XZtL9N1AkyX2mGR6SPJU6Rxu+2+S3F2SBRx7a5RekReypiFXnmVdFnujhjm5JoWX7LZSuIQpGYIuEELbX6H2u5clrCsfJgJL8BpzypxEiEEjcAAAAASUVORK5CYII=",springImg=new Image,springBootsImg=(springImg.src=springDataUrl,new Image),flyingHatImg=(springBootsImg.src=springBootsDataUrl,new Image),rocketImg=(flyingHatImg.src=flyingHatDataUrl,new Image);rocketImg.src=rocketDataUrl;
function spawnBlock(){var a=15,n=Math.round(10/difficulty);return 0===Math.round(Math.random()*a)?"break":0===Math.round(Math.random()*n)?"sideways":0}
function blockSpawner(){for(o=0===lowestBlock?1:lowestBlock;o<lowestBlock+60;o++)o>=blocks.length&&(blocks.push(new block),"break"===blocks[o-1].type?blocks[o].type=0:blocks[o].type=spawnBlock(),blocks[o].powerup=0,(blocks[o].monster=0)===blocks[o].type&&(blocks[o].powerup=spawnPowerup(),0===blocks[o].powerup)&&(blocks[o].monster=spawnMonster()),blocks[o].x=Math.random()*(screenWidth-blocks[o].width),"break"===blocks[o].type||"break"===blocks[o-1].type?blocks[o].y=blocks[o-1].y-(Math.random()*(100+25*difficulty)+30)/2:0!==blocks[o].monster||0!==blocks[o-1].monster?blocks[o].y=blocks[o-1].y-(Math.random()*(100+25*difficulty)+50):blocks[o].y=blocks[o-1].y-(Math.random()*(100+25*difficulty)+80),250<blocks[o-1].y-blocks[o].y)&&(blocks[o].y=blocks[o-1].y-250);for(var o=0;o<lowestBlock-2;o++)blocks.shift()}
const c=document.createElement("canvas"),ctx=(c.id="game-container",c.getContext("2d")),screenWidth=window.innerWidth,screenHeight=window.innerHeight,gravity=(c.width=screenWidth,c.height=screenHeight,document.body.appendChild(c),window.addEventListener("keydown",this.keydown,!1),window.addEventListener("keyup",this.keyup,!1),.34);var keycode,holdingLeftKey=!1,holdingRightKey=!1,dead=!1,difficulty=0,lowestBlock=0,score=0,yDistanceTravelled=0;let gameoverActionDone=!1;var blocks=[],powerups=[];let pause=!0;var now,delta,fps=60,then=Date.now(),interval=1e3/fps;function showScore(){score<yDistanceTravelled&&(score=Math.round(yDistanceTravelled/100)),ctx.font="36px Arial",ctx.fillStyle="black",ctx.textAlign="left",ctx.fillText(score,15,40)}function loop(){if(requestAnimationFrame(loop),now=Date.now(),interval<(delta=now-then)){ctx.clearRect(0,0,screenWidth,screenHeight);for(var e=0;e<blocks.length;e++)0!==blocks[e]&&(blocks[e].update(),blocks[e].draw());pause||(player.update(),player.draw(),showScore(),ctx.fill(),then=now-delta%interval)}}blocks.push(new block),blocks[0].x=screenWidth/2-50,blocks[0].y=screenHeight-50,blocks[0].monster=0,blocks[0].type=0,blocks[0].powerup=0,blockSpawner(),loop();